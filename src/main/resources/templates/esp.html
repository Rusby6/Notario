<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buscador de Catastros</title>  <!-- Título de la página -->
    <!-- Para mejor carga -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>

<body>

<div class="container mt-3">    <!-- Para mantener el contenido centrado y ordenado -->
    <h1>Formulario Español</h1> <!-- Título del formulario -->

    <!-- Formulario - Añadido elemento form que faltaba -->
    <form>
        <!-- Sección 1: Datos Personales - Nueva estructura con card -->
        <div class="card mb-4">     <!-- Margin botton de 4 -->
            <div class="card-header bg-light">  <!-- La "barra de título" de la caja en color gris claro (bg-lightbg-light)-->
                <h5 class="mb-0">Datos Personales</h5>  <!-- Título sección -->
            </div>
            <div class="card-body">  <!-- body de la card -->
                <!-- Grupo DNI -->
                <div class="mb-3">
                    <label class="form-label">NIF (obligatorio):</label>
                    <input type="text" class="form-control" required>
                </div>

                <!-- Nombre y apellidos -->
                <div class="row mb-3">  <!-- Fila para agrupar en horizontal -->
                    <div class="col-md-6">  <!-- Columna nombre (50% ancho) -->
                        <label class="form-label">Nombre:</label>
                        <input type="text" class="form-control">
                    </div>
                    <div class="col-md-3">  <!-- Columna apellido1 (25% ancho) -->
                        <label class="form-label">Primer apellido:</label>
                        <input type="text" class="form-control">
                    </div>
                    <div class="col-md-3">  <!-- Columna apellido2 (25% ancho) -->
                        <label class="form-label">Segundo apellido:</label>
                        <input type="text" class="form-control">
                    </div>
                </div>

                <!-- Género -->
                <div class="mb-3">
                    <label class="form-label">Género:</label>
                    <div class="d-flex gap-4">  <!-- Flex para alinear horizontal -->
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="genero" id="hombre" value="H">
                            <label class="form-check-label" for="hombre">Hombre</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="genero" id="mujer" value="M">
                            <label class="form-check-label" for="mujer">Mujer</label>
                        </div>
                    </div>
                </div>

                <!-- Fecha nacimiento -->
                <div class="mb-3">
                    <label for="fecha_nacimiento" class="form-label">Fecha de nacimiento:</label>
                    <input type="date" class="form-control" id="fecha_nacimiento" name="fecha_nacimiento" required>
                    <div id="edadFeedback" class="invalid-feedback">Debes ser mayor de 18 años</div>
                </div>

                <!-- Profesión -->
                <div class="mb-3">
                    <label for="profesion" class="form-label">Profesión:</label>
                    <select class="form-select" id="profesion" name="profesion">
                        <option value="">-- Seleccione profesión --</option>
                        <option value="Jardinero">Jardinero</option>
                        <option value="Abogado">Abogado</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Sección 2: Dirección -->
        <div class="card mb-4">
            <div class="card-header bg-light">
                <h5 class="mb-0">Dirección</h5>
            </div>
            <div class="card-body">
                <!-- Tipo vía y nombre -->
                <div class="row mb-3">
                    <div class="col-md-4">  <!-- 33% ancho -->
                        <label for="tipo_via_publica" class="form-label">Tipo Vía Pública:</label>
                        <select class="form-select" id="tipo_via_publica" name="tipo_via_publica">
                            <option value="">-- Seleccione tipo --</option>
                        </select>
                    </div>
                    <div class="col-md-8">  <!-- 66% ancho -->
                        <label class="form-label">Nombre Vía Pública:</label>
                        <input type="text" class="form-control">
                    </div>
                </div>

                <!-- Número, escalera, etc.-->
                <div class="row mb-3">
                    <div class="col-md-3">  <!-- 4 columnas de igual ancho -->
                        <label class="form-label">Número:</label>
                        <input type="text" class="form-control">
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">Escalera:</label>
                        <input type="text" class="form-control">
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">Piso:</label>
                        <input type="text" class="form-control">
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">Puerta:</label>
                        <input type="text" class="form-control">
                    </div>
                </div>

                <!-- Localidades -->
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="provincia" class="form-label">Provincia:</label>
                        <select class="form-select" id="provincia" name="provincia">
                            <option value="">-- Seleccione provincia --</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="municipio" class="form-label">Municipio:</label>
                        <select class="form-select" id="municipio" name="municipio">
                            <option value="">-- Seleccione municipio --</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="cod_pos" class="form-label">Código Postal:</label>
                        <select class="form-select" id="cod_pos" name="cod_pos">
                            <option value="">-- Seleccione código --</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sección 3: Estado Civil -->
        <div class="card mb-4">
            <div class="card-header bg-light">
                <h5 class="mb-0">Estado Civil</h5>
            </div>
            <div class="card-body">
                <!-- Radio buttons -->
                <div class="mb-3">
                    <label class="form-label">Estado Civil:</label>
                    <div class="d-flex flex-wrap gap-4">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="estado_civil" id="soltero" value="sol">
                            <label class="form-check-label" for="soltero">Soltero</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="estado_civil" id="separado" value="sep">
                            <label class="form-check-label" for="separado">Separado</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="estado_civil" id="divorciado" value="div">
                            <label class="form-check-label" for="divorciado">Divorciado</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="estado_civil" id="viudo" value="viu">
                            <label class="form-check-label" for="viudo">Viudo</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="estado_civil" id="casado" value="cas">
                            <label class="form-check-label" for="casado">Casado</label>
                        </div>
                    </div>
                </div>

                <!-- Datos cónyuge - Oculto inicialmente (solo visible para casados) -->
                <div id="datosConyuge" style="display: none;">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Nombre del Cónyuge:</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">NIF del Cónyuge:</label>
                            <input type="text" class="form-control">
                        </div>

                        <!-- Régimen matrimonial -->
                        <div class="col-md-6">
                            <label class="form-label">Régimen matrimonial:</label>
                            <div class="d-flex gap-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="regimen" id="gananciales" value="gan">
                                    <label class="form-check-label" for="gananciales">Gananciales</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="regimen" id="separacion_bienes" value="sep">
                                    <label class="form-check-label" for="separacion_bienes">Separacion de bienes</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Datos Inscripcion Registro Civil - Oculto inicialmente (solo visible para separacion de bienes) -->
                    <div id="documentosSeparacion" style="display: none;" class="mt-3">
                        <h6 class="mb-3">Documentos para separación de bienes:</h6>
                        <div class="mb-3">
                            <label class="form-label">Captulaciones:</label>
                            <input type="file" class="form-control">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Certificado Matrimonio:</label>
                            <input type="file" class="form-control">
                        </div>
                    </div>
                </div>
            </div> <!-- Cierre de card-body -->
        </div> <!-- Cierre de card mb-4 -->



        <!-- Sección 4: Representacion -->
        <div class="card mb-4">
            <div class="card-header bg-light">
                <h5 class="mb-0">Representación</h5>
            </div>
            <div class="card-body">
                <!-- Radio buttons -->
                <div class="mb-3">
                    <div class="d-flex flex-wrap gap-4">  <!-- flex-wrap para responsive -->
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="actuacion" id="propio" value="prop">
                            <label class="form-check-label" for="propio">Actuo en mi propio nombre</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="actuacion" id="representante" value="rep">
                            <label class="form-check-label" for="representante">Actuo como representante de una persona fisica</label>
                        </div>
                    </div>
                </div>

                <!-- Datos de la persona que representa - Oculto inicialmente (solo visible para representante) -->
                <div id="datosRepresentante" style="display: none;" class="mt-3">
                    <h6 class="mb-3">Persona que representa:</h6>
                    <!-- NIF o NIE-->
                    <div class="row mb-3">
                        <div class="col-md-3">  <!-- 4 columnas de igual ancho -->
                            <label class="form-label">NIF:</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">NIE:</label>
                            <input type="text" class="form-control">
                        </div>
                    </div>
                </div>

                <!-- Datos del poder - Oculto inicialmente (solo visible para representante) -->
                <div id="datosPoder" style="display: none;" class="mt-3">
                    <h6 class="mb-3">Datos del poder:</h6>
                    <div class="mb-3">
                        <input type="file" class="form-control">
                    </div>

                    <!-- Campos para rellenar -->
                    <div class="row mb-3">
                        <div class="col-md-3">  <!-- 4 columnas de igual ancho -->
                            <label class="form-label">Notario:</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Lugar:</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Fecha:</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Numero de Protocolo:</label>
                            <input type="text" class="form-control">
                        </div>
                    </div>

                </div>

                <!-- Botón enviar -->
                <div class="d-grid gap-2">  <!-- Ocupa todo el ancho -->
                    <button type="submit" class="btn btn-primary">Enviar Formulario</button>
                </div>
    </form>
</div>

<!-- Para mejor rendimiento -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // Validación de edad (18+ años)
    document.getElementById('fecha_nacimiento').addEventListener('change', function() {
        const fechaNacimiento = new Date(this.value);
        const hoy = new Date();
        let edad = hoy.getFullYear() - fechaNacimiento.getFullYear();

        // Ajuste por si no ha cumplido años este año
        if (hoy.getMonth() < fechaNacimiento.getMonth() ||
            (hoy.getMonth() === fechaNacimiento.getMonth() && hoy.getDate() < fechaNacimiento.getDate())) {
            edad--;
        }

        // Muestra error si es menor de 18
        if (edad < 18) {
            this.classList.add('is-invalid');
            document.getElementById('edadFeedback').style.display = 'block';
        } else {
            this.classList.remove('is-invalid');
            document.getElementById('edadFeedback').style.display = 'none';
        }
    });


    // Mostrar/ocultar datos cónyuge
    document.querySelectorAll('input[name="estado_civil"]').forEach(radio => {
        radio.addEventListener('change', function() {
            const datosConyuge = document.getElementById('datosConyuge');
            // Solo muestra si estado es "Casado" (value="cas")
            datosConyuge.style.display = this.value === 'cas' ? 'block' : 'none';
        });
    });

    // Mostrar/ocultar datos inscripcion registro civil
    document.querySelectorAll('input[name="regimen"]').forEach(radio => {
        radio.addEventListener('change', function() {
            const documentosDiv = document.getElementById('documentosSeparacion');
            // Muestra solo si se selecciona "Separacion de bienes"
            documentosDiv.style.display = this.value === 'sep' ? 'block' : 'none';
        });
    });

    // Mostrar/ocultar datos del representante
    document.querySelectorAll('input[name="actuacion"]').forEach(radio => {
        radio.addEventListener('change', function() {
            const datosRespresentante = document.getElementById('datosRepresentante');
            // Muestra solo si se selecciona un representante
            datosRespresentante.style.display = this.value === 'rep' ? 'block' : 'none';
        });
    });

    // Mostrar/ocultar datos del poder
    document.querySelectorAll('input[name="actuacion"]').forEach(radio => {
        radio.addEventListener('change', function() {
            const datosPoder = document.getElementById('datosPoder');
            // Muestra solo si se selecciona datos de poder
            datosPoder.style.display = this.value === 'rep' ? 'block' : 'none';
        });
    });
</script>
</body>
</html>